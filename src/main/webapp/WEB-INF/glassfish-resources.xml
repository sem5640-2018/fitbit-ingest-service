<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE resources PUBLIC "-//GlassFish.org//DTD GlassFish Application Server 3.1 Resource Definitions//EN"
        "http://glassfish.org/dtds/glassfish-resources_1_5.dtd">
<glassfish-web-app>
    <resources>

        <jdbc-connection-pool allow-non-component-callers="false"
                              associate-with-thread="false"
                              connection-creation-retry-attempts="0"
                              connection-creation-retry-interval-in-seconds="10"
                              connection-leak-reclaim="false"
                              connection-leak-timeout-in-seconds="0"
                              connection-validation-method="auto-commit"
                              datasource-classname="org.mariadb.jdbc.MariaDbDataSource"
                              fail-all-connections="false"
                              idle-timeout-in-seconds="300"
                              is-connection-validation-required="false"
                              is-isolation-level-guaranteed="true"
                              lazy-connection-association="false"
                              lazy-connection-enlistment="false"
                              match-connections="false"
                              max-connection-usage-count="0"
                              max-pool-size="32"
                              max-wait-time-in-millis="6000"
                              name="jdbc/mariaConnPool"
                              non-transactional-connections="false"
                              pool-resize-quantity="2"
                              res-type="javax.sql.DataSource"
                              statement-timeout-in-seconds="-1"
                              steady-pool-size="8"
                              validate-atmost-once-period-in-seconds="0"
                              wrap-jdbc-objects="false">
            <property name="URL" value="jdbc:mysql://${ENV=DB_HOSTNAME}:3306/fitbit-ingest-service"/>
            <property name="User" value="${ENV=DB_USERNAME}"/>
            <property name="Password" value="${ENV=DB_PASSWORD}"/>
        </jdbc-connection-pool>


        <jdbc-resource enabled="true" jndi-name="fitbitPU" object-type="user" pool-name="jdbc/mariaConnPool">
            <description>Fitbit Datasource</description>
        </jdbc-resource>

    </resources>
</glassfish-web-app>